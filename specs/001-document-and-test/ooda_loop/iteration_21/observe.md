# Iteration 21 - Observe
middleware.rs: 1512 lines, 32 existing tests. Missing: with_tools, tool_call tracking, LogLevel Debug/Trace branches, Default impls, builder tool_calls/requests_with_cache, long message truncation.

# Iteration 21 - Orient
Middleware has strong test coverage. Remaining gaps are in LogLevel branches and builder edge cases.

# Iteration 21 - Decide
Add 13 tests for remaining gaps.
